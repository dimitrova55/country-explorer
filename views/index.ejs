<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
    <title>API_Project</title>
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- first api: https://restcountries.com/
    second api: https://calendarific.com/api/v2/holidays?&api_key=e9c5a4a0d893f4a09aed99d3541cd56c16bfca4a&country=BG&year=2019&month=03 
    South Korea-->
        
</head>

<body>
    <header>
        <h1 id = "title">Around the world</h1>
    </header>

    <section class= "container">
        <!--search forms-->
        <form action="/" id="form" method="POST">
            <input type = "text" id = "country" name = "country" placeholder = "Search for a country..." style="min-width: 300px;">
            <input type= "number" id = "year" name = "year" placeholder = "Year" min="1990" max="2024">
            <select>
                <option value="0">none</option>
                <option value="1">January</option>
                <option value="2">February</option>
                <option value="3">March</option>
                <option value="4">April</option>
                <option value="5">May</option>
                <option value="6">June</option>
                <option value="7">July</option>
                <option value="8">August</option>
                <option value="9">September</option>
                <option value="10">October</option>
                <option value="11">November</option>
                <option value="12">December</option>
            </select>
            <input type = "submit" id = "submit" value = "submit">
            
        </form>
    </section>

    <!--Contains Information about country -->    
    <section class="container country-info">
        <% if (locals.data) { %>
            <h3 id = "countryName"> <%= data.name.common %></h3>
            <div class="container ">
                <img src= "<%= data.flags.svg %>" alt="<%= data.flags.all %>">

                <div class="container text-info">
                    <p><b>Official Name:</b> <%= data.name.official %></p>
                    <p><b>Capital City:</b> <%= data.capital[0] %></p>
                    <p><b>Languages: </b> 
                        <% 
                            const languagesArray = Object.values(data.languages);
                            languagesArray.forEach((lang, index) => { 
                        %>
                        <%= lang %><%= index < languagesArray.length - 1 ? ', ' : '' %>
                        <% }); %>
                    </p>
                    <p><b>Population:</b> <%= data.population.toLocaleString() %> </p>
                </div>

                <img src="<%= data.coatOfArms.svg %>" alt="Coat Of Arms">
            </div>
        <% } %>
    </section>

    
</body>
</html>